<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-3232.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.1616.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Researcher on cognitive science, computer vision, machine learning, chaos and fractal.">
<meta property="og:type" content="website">
<meta property="og:title" content="Pursuing your dream">
<meta property="og:url" content="williamyi96.github.io/index.html">
<meta property="og:site_name" content="Pursuing your dream">
<meta property="og:description" content="Researcher on cognitive science, computer vision, machine learning, chaos and fractal.">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pursuing your dream">
<meta name="twitter:description" content="Researcher on cognitive science, computer vision, machine learning, chaos and fractal.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="williamyi96.github.io/"/>





  <title>Pursuing your dream</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Pursuing your dream</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            Schedule
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/03/12/A-glimpse-of-Saliency-Detection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/12/A-glimpse-of-Saliency-Detection/" itemprop="url">A glimpse of Saliency Detection</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-12T09:11:27+08:00">
                2018-03-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Saliency detection is an vital visual problem. This post will review the basic ideas of saliency detection firstly. Then, I will give a demonstration of saliency detection by using Mathematica.</p>
<p>Saliency detection is the problem that selecting the most salient areas in the image. And now I will illustrate the implementation of saliency detection with examples.</p>
<p>The source code like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = the directory of input image;</span><br><span class="line"></span><br><span class="line">map = ImageSaliencyFilter[i] // ImageAdjust;</span><br><span class="line">Print[map];</span><br><span class="line">foreground = MaxDetect[map, .8];</span><br><span class="line">mask = GuidedFilter[foreground, i, 10, .05];</span><br><span class="line">maskC = Colorize[mask];</span><br><span class="line"></span><br><span class="line">Blend[&#123;i, maskC&#125;, 0.8];</span><br></pre></td></tr></table></figure>
<p>The input image is following:</p>
<p><img src="images/out_000132.jpg" alt=""></p>
<p>The map is following:</p>
<p><img src="images/saliency-detection.pdf" alt=""></p>
<p>The mask image is following:</p>
<p><img src="images/saliency-detection2.pdf" alt=""></p>
<p>The End.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/12/A-Glimpse-of-Deep-Reinforcement-Learning-and-DQN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/12/A-Glimpse-of-Deep-Reinforcement-Learning-and-DQN/" itemprop="url">A Glimpse of Deep Reinforcement Learning and DQN</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-12T16:51:38+08:00">
                2018-02-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>In this article, I will review the core concepts of deep reinforcement learning and introduce Deep Q-Network (DQN). </p>
<h1 id="Basic-Introduction"><a href="#Basic-Introduction" class="headerlink" title="Basic Introduction"></a>Basic Introduction</h1><p>We have witnessed the power of deep learning about solving high-computation problems and the strength of reinforcement learning at decision-making. Trying to combine those two methods is an obvious thing. This idea contributes to the appear of deep reinforcement learning. DQN, which was first proposed by OpenAI at the paper named “Play Atari with Deep Reinforcement Learning”, is a typical algorithm of deep reinforcement learning.</p>
<p>Meanwhile, the basic assumption behind reinforcement learning is that the agent can have a deeper understanding about the environment by interacting with it. And we can increase the ability to reach the goal after several iterations.</p>
<h1 id="MDPs"><a href="#MDPs" class="headerlink" title="MDPs"></a>MDPs</h1><p>Markov Decision Process satisfies the markov property, which is that the nest state is only determined by current state and current action instead of the history. </p>
<div align="left"><br><img src="http://img.blog.csdn.net/20170814092318915?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br></div>

<p>MDPs consists of 5 components.</p>
<pre><code>S: the finite states sets
A: the finite actions sets
P: the state transition matrix
R: the reward function
gama: the discount factor
</code></pre><h1 id="Value-Function"><a href="#Value-Function" class="headerlink" title="Value Function"></a>Value Function</h1><p>We introduce the value function to measure the long-term reward and judge the policy in order to make better choice.</p>
<p>Value function can be normalized to bellman equation, the standard bellman equation can be solve by iteration.</p>
<p>Overall, there are three different ways to solve the value function:</p>
<ul>
<li>Dynamic  programming</li>
<li>Monte-Carlo method</li>
<li>Temporal differential method</li>
</ul>
<h2 id="Action-Value-function"><a href="#Action-Value-function" class="headerlink" title="Action-Value function"></a>Action-Value function</h2><p>We aim at analyzing the value of different actions towards current state, which brings about the action-value function.</p>
<p>We can regularize the action-state function into these form:</p>
<p><img src="http://img.blog.csdn.net/20170814092307877?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="Optimal-Value-function"><a href="#Optimal-Value-function" class="headerlink" title="Optimal Value function"></a>Optimal Value function</h2><p>We can normalize it into this form:</p>
<p><img src="http://img.blog.csdn.net/20170814092254146?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>Then, after put it into action-value function, we can get :</p>
<p><img src="http://img.blog.csdn.net/20170814092242892?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h1 id="Iteration-based-on-Bellman-Equation"><a href="#Iteration-based-on-Bellman-Equation" class="headerlink" title="Iteration based on Bellman Equation:"></a>Iteration based on Bellman Equation:</h1><p>Widely used iteration methods designed to solve bellman equation can be categorized to policy iteration and value iteration.</p>
<h2 id="Policy-Iteration"><a href="#Policy-Iteration" class="headerlink" title="Policy Iteration"></a>Policy Iteration</h2><ol>
<li>Policy Evaluation: Estimate Vpi </li>
<li>Policy Improvement: Generate pi’ &gt;= pi</li>
</ol>
<p>pi can be converged to optimal proved theoretically.</p>
<h2 id="Value-Iteration"><a href="#Value-Iteration" class="headerlink" title="Value Iteration"></a>Value Iteration</h2><p>Value iteration is based on Bellman Optimal equation and convert it into iteration form.</p>
<h2 id="Diff-between-policy-iteration-and-value-iteration"><a href="#Diff-between-policy-iteration-and-value-iteration" class="headerlink" title="Diff. between policy iteration and value iteration"></a>Diff. between policy iteration and value iteration</h2><p>Policy iteration updates value by using the naive bellman equation. Meanwhile, the optimal value(vpi) is the optimal value at current policy, also called the estimation of a particular policy.</p>
<p>Value iteration update value by using Bellman Optimal Equation. Meanwhile, the optimal value(vpi) is the optimal value at current state.</p>
<p>Value iteration is more direct concerning getting an optimal value.</p>
<h1 id="Q-Learning"><a href="#Q-Learning" class="headerlink" title="Q-Learning"></a>Q-Learning</h1><p>The basic idea of Q learning is based on value iteration. We update Q value every value iteration, which means all the state and action. But due to the fact that we just get limited examples, Q learning puts forward a new way to update Q value:</p>
<p><img src="http://img.blog.csdn.net/20170814092227003?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>We can demiss the influence of error like gradient descent method, which converges to the optimal Q value.</p>
<h2 id="Exploration-and-Exploitation"><a href="#Exploration-and-Exploitation" class="headerlink" title="Exploration and Exploitation"></a>Exploration and Exploitation</h2><ul>
<li>Off-policy: Need a policy to generate action, which means the selected policy is not the optimal policy.</li>
<li>Model-free: Not consider about the model(the detail information about the env), just care about seen env and reward.</li>
</ul>
<h3 id="Generate-action-by-policy"><a href="#Generate-action-by-policy" class="headerlink" title="Generate action by policy"></a>Generate action by policy</h3><ul>
<li>Exploration: Generate an action randomly. Benefitial to update Q value in order to get better policy.</li>
<li>Exploitation: Calculate an optimal action based on current Q value. Good to test whether an algorithm works while hard to update Q value.</li>
</ul>
<h3 id="ita-greedy-policy"><a href="#ita-greedy-policy" class="headerlink" title="ita-greedy policy"></a>ita-greedy policy</h3><p>We can combine exploration and exploitation by setting a fixed threshold ita, which method is called ita-greedy policy.</p>
<h1 id="DQN"><a href="#DQN" class="headerlink" title="DQN"></a>DQN</h1><h2 id="Dimemsion-Disaster"><a href="#Dimemsion-Disaster" class="headerlink" title="Dimemsion Disaster"></a>Dimemsion Disaster</h2><p>We store Q(s,a) in a table, which represents all the states and actions. But when we deal with image problems, the computation will be exponent that even can not be solved. So we need to reflect how to optimal the value function in another way.</p>
<p>Firstly, we introduced Value Function Approximation.</p>
<h2 id="Value-Function-Approximation"><a href="#Value-Function-Approximation" class="headerlink" title="Value Function Approximation"></a>Value Function Approximation</h2><p>In order to decrease dimension, we need to approximate the value function by another function. For example, we may use a linear function to approximate the value function, which just like this:</p>
<blockquote>
<p>Q(s,a) = f(s,a) = w1s + w2a + b</p>
</blockquote>
<p>Thus we get Q(s,a) approximates to f(s,a:w)</p>
<h2 id="Dimensionality-Reduction"><a href="#Dimensionality-Reduction" class="headerlink" title="Dimensionality Reduction"></a>Dimensionality Reduction</h2><p>As is often the case, the dimension of actions are obviously smaller than the dimension of states. In order to update value Q more efficiently, we need to reduce the dimension of states. just like this form:</p>
<blockquote>
<p>Q(s) approximates to f(s,w) where s is a vector: [Q(s,a1),…,Q(s,an)].</p>
</blockquote>
<h2 id="Training-Q-Network-by-DQN"><a href="#Training-Q-Network-by-DQN" class="headerlink" title="Training Q-Network by DQN"></a>Training Q-Network by DQN</h2><p>The typical deep neural network method is an optimal problem. The optimal target of neural network is the loss function, which is the bias between label and output. As the name suggests, the optimal of loss function is attempting to minimize the bias. We will need a lot of samples to train the parameters of neural network by policy gradient by back propagation.</p>
<p>Following the basic idea of neural network, we regard the target value Q as a label. And then trying to approximate value Q to target value Q.</p>
<p>Thus, the training loss function is:</p>
<p><img src="http://img.blog.csdn.net/20170814092208059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="Naive-DQN"><a href="#Naive-DQN" class="headerlink" title="Naive DQN"></a>Naive DQN</h2><p><img src="http://img.blog.csdn.net/20170814092150986?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>The basic idea of naive DQN is trying to train Q-Learning and SGD algorithm synchronously. Store all the sample and then randomly sampling, which is what we called experience replay. Learning by reflecting.</p>
<p>Trial for several times and then store all the data. Then do SGD by randomly sampling when getting a considerable number of data.</p>
<h1 id="Improved-DQN"><a href="#Improved-DQN" class="headerlink" title="Improved DQN"></a>Improved DQN</h1><p>There are several different methods used to improve the efficiency of DQN. Double DQN, Prioritied Replay and Dueling Network are three instinctive methods.</p>
<h2 id="Nature-DQN"><a href="#Nature-DQN" class="headerlink" title="Nature DQN"></a>Nature DQN</h2><p>Nature DQN means the methods mentioned on (Human Level Control …) by DeepMind. Nature DQN is also based on experience replay. The difference between it and naive DQN is that nature DQN introduced a Target Q network. Like this:</p>
<p><img src="http://img.blog.csdn.net/20170814092135240?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2lsbGlhbXlpOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>In order to decrease the relevance between target Q and current value Q, they designed a target Q network with updating delay, which means update the parameters after trained for a time.</p>
<p>The content of double DQN, prioritied replay and dueling network will be discussed later. This part remains to be seen after reading those papers.</p>
<p>And also, I will give a base summary of policy gradient method and A3C series about deep reinforcement learning.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] Mnih, Volodymyr, et al. “Playing atari with deep reinforcement learning.” arXiv preprint arXiv:1312.5602 (2013).</p>
<p>[2] Mnih, Volodymyr, et al. “Human-level control through deep reinforcement learning.” Nature 518.7540 (2015): 529-533.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/12/Artificial-General-Intelligence-MIT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/12/Artificial-General-Intelligence-MIT/" itemprop="url">Artificial General Intelligence (MIT)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-12T14:03:16+08:00">
                2018-02-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Nowadays, deep learning methods have achieved human even superhuman performance on several tasks such as image classification, game-playing on Atari 2600. However, we are still far away from human-like artificial intelligence.<br>This blog is the notes and thinking of the first class of Artificial General Intelligence (AGI). I will review the shocking opinion mentioned on this course.</p>
<h2 id="Deep-learning-is-a-kind-of-representation-learning"><a href="#Deep-learning-is-a-kind-of-representation-learning" class="headerlink" title="Deep learning is a kind of representation learning"></a>Deep learning is a kind of representation learning</h2><p>Deep learning is a kind of representation learning just like my tutor once said (The core elements of deep learning is representation and computing while the major parts of cognitive science is the understanding of objects). Representation learning is a kind of machine learning. Machine learning is one kind of artificial intelligence. </p>
<h2 id="Difference-between-biological-brains-and-ANN"><a href="#Difference-between-biological-brains-and-ANN" class="headerlink" title="Difference between biological brains and ANN:"></a>Difference between biological brains and ANN:</h2><p>1). <strong>Parameters:</strong> Human brains have ~10,000,000 times synapses than artificial neural network.<br>2). <strong>Topology:</strong> Human brains have no “layers”. Topology is complicated.<br>3). <strong>Async:</strong> The human brain works asynchronously, ANNs work synchronously.<br>4). <strong>Learning Algorithms:</strong> ANNs use gradient descent for learning. Human brains use … (we don’t know).<br>5). <strong>Processing Speed:</strong> Single biological neurons are slow, while standard neurons in ANNs are fast.<br>6). <strong>Power consumption:</strong> Biological neural networks use very little power compared to artificial networks.<br>7). <strong>Stages:</strong> Biological networks usually don’t stop/start learning. ANNs have different fitting (train) and prediction (evaluation) phases.</p>
<p>The similarity between them is they are both distributed computation on a large scale.</p>
<h2 id="The-illustration-of-deep-learning-from-human-and-machine-is-full-of-insights"><a href="#The-illustration-of-deep-learning-from-human-and-machine-is-full-of-insights" class="headerlink" title="The illustration of deep learning from human and machine is full of insights"></a>The illustration of deep learning from human and machine is full of insights</h2><p><img src="images/dl-human-machine.png" alt=""></p>
<h2 id="Current-Challenge"><a href="#Current-Challenge" class="headerlink" title="Current Challenge"></a>Current Challenge</h2><ul>
<li><strong>Transfer learning</strong>: Unable to transfer representation to most reasonably related domains except in specialized formulations.<br>  • <strong>Understanding</strong>: Lacks “reasoning” or ability to truly derive “understanding” as previously defined on anything but specialized problem formulations. (Definition used: Ability to turn complex information to into simple, useful information.)</li>
<li>Requires <strong>big</strong> data: inefficient at learning from data</li>
<li>Requires <strong>supervised</strong> data: costly to annotate real-world data</li>
<li><strong>Not fully automated</strong>: Needs hyperparameter tuning for training: learning rate, loss function, mini-batch size, training iterations, momentum, optimizer selection, etc.</li>
<li><strong>Reward</strong>: Defining a good reward function is difficult.</li>
<li><strong>Transparency</strong>: Neural networks are for the most part black boxes (for real world applications) even with tools that visualize various aspects of their operation.</li>
<li><strong>Edge cases</strong>: Deep learning is not good at dealing with edge cases.</li>
</ul>
<h2 id="Timeline"><a href="#Timeline" class="headerlink" title="Timeline"></a>Timeline</h2><!-- ![](images/timeline-AGI.png = 100) -->
<!-- ![Course Timeline](images/timeline-AGI.png){:height="50%" width="50%"} -->
<div align="left"><br><img src="images/timeline-AGI.png" width="80%" height="80%"><br></div>

<p>Picture above is the timeline of Artificial General Intelligence of MIT. More info can refer to <a href="https://agi.mit.edu/" target="_blank" rel="noopener">https://agi.mit.edu/</a>.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/07/Calculate-mAP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/07/Calculate-mAP/" itemprop="url">Calculate mAP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-07T22:51:09+08:00">
                2018-02-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>mean Average Precision (mAP) is an essential evaluation method in the field of object detection, this blog will give a demo of mAP calculate code first, then introduce the general framework of batch result processing.</p>
<p>The implementation of a demo code is:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    Simple Usage example (with 3 images)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">from</span> mean_average_precision.detection_map <span class="keyword">import</span> DetectionMAP</span><br><span class="line"><span class="keyword">from</span> mean_average_precision.utils.show_frame <span class="keyword">import</span> show_frame</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt  </span><br><span class="line"></span><br><span class="line">pred_bb1 = np.array([[<span class="number">0.880688</span>, <span class="number">0.44609185</span>, <span class="number">0.95696718</span>, <span class="number">0.6476958</span>],</span><br><span class="line">                     [<span class="number">0.84020283</span>, <span class="number">0.45787981</span>, <span class="number">0.99351478</span>, <span class="number">0.64294884</span>],</span><br><span class="line">                     [<span class="number">0.78723741</span>, <span class="number">0.61799151</span>, <span class="number">0.9083041</span>, <span class="number">0.75623035</span>],</span><br><span class="line">                     [<span class="number">0.22078986</span>, <span class="number">0.30151826</span>, <span class="number">0.36679274</span>, <span class="number">0.40551913</span>],</span><br><span class="line">                     [<span class="number">0.0041579</span>, <span class="number">0.48359361</span>, <span class="number">0.06867643</span>, <span class="number">0.60145104</span>],</span><br><span class="line">                     [<span class="number">0.4731401</span>, <span class="number">0.33888632</span>, <span class="number">0.75164948</span>, <span class="number">0.80546954</span>],</span><br><span class="line">                     [<span class="number">0.75489414</span>, <span class="number">0.75228018</span>, <span class="number">0.87922037</span>, <span class="number">0.88110524</span>],</span><br><span class="line">                     [<span class="number">0.21953127</span>, <span class="number">0.77934921</span>, <span class="number">0.34853417</span>, <span class="number">0.90626764</span>],</span><br><span class="line">                     [<span class="number">0.81</span>, <span class="number">0.11</span>, <span class="number">0.91</span>, <span class="number">0.21</span>]])</span><br><span class="line">pred_cls1 = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">pred_conf1 = np.array([<span class="number">0.95</span>, <span class="number">0.75</span>, <span class="number">0.4</span>, <span class="number">0.3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0.75</span>, <span class="number">0.5</span>, <span class="number">0.8</span>])</span><br><span class="line">gt_bb1 = np.array([[<span class="number">0.86132812</span>, <span class="number">0.48242188</span>, <span class="number">0.97460938</span>, <span class="number">0.6171875</span>],</span><br><span class="line">                   [<span class="number">0.18554688</span>, <span class="number">0.234375</span>, <span class="number">0.36132812</span>, <span class="number">0.41601562</span>],</span><br><span class="line">                   [<span class="number">0.</span>, <span class="number">0.47265625</span>, <span class="number">0.0703125</span>, <span class="number">0.62109375</span>],</span><br><span class="line">                   [<span class="number">0.47070312</span>, <span class="number">0.3125</span>, <span class="number">0.77929688</span>, <span class="number">0.78125</span>],</span><br><span class="line">                   [<span class="number">0.8</span>, <span class="number">0.1</span>, <span class="number">0.9</span>, <span class="number">0.2</span>]])</span><br><span class="line">gt_cls1 = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">pred_bb2 = np.array([[<span class="number">0.6</span>, <span class="number">0.4</span>, <span class="number">0.8</span>, <span class="number">0.6</span>],</span><br><span class="line">                     [<span class="number">0.45</span>, <span class="number">0.24</span>, <span class="number">0.55179688</span>, <span class="number">0.35179688</span>],</span><br><span class="line">                     [<span class="number">0.2</span>, <span class="number">0.15</span>, <span class="number">0.29</span>, <span class="number">0.30</span>],</span><br><span class="line">                     [<span class="number">0.95</span>, <span class="number">0.55</span>, <span class="number">0.99</span>, <span class="number">0.66670889</span>],</span><br><span class="line">                     [<span class="number">0.62373358</span>, <span class="number">0.43393397</span>, <span class="number">0.82830238</span>, <span class="number">0.68219709</span>],</span><br><span class="line">                     [<span class="number">0.8814062</span>, <span class="number">0.8921875</span>, <span class="number">0.94453125</span>, <span class="number">0.9704688</span>],</span><br><span class="line">                     [<span class="number">0.8514062</span>, <span class="number">0.9121875</span>, <span class="number">0.99453125</span>, <span class="number">0.9804688</span>],</span><br><span class="line">                     [<span class="number">0.40</span>, <span class="number">0.44</span>, <span class="number">0.55</span>, <span class="number">0.56</span>],</span><br><span class="line">                     [<span class="number">0.1672115</span>, <span class="number">0.435711</span>, <span class="number">0.32729435</span>, <span class="number">0.57853043</span>],</span><br><span class="line">                     [<span class="number">0.18287398</span>, <span class="number">0.15450388</span>, <span class="number">0.27082703</span>, <span class="number">0.31132805</span>],</span><br><span class="line">                     [<span class="number">0.3713485</span>, <span class="number">0.24020095</span>, <span class="number">0.62879527</span>, <span class="number">0.48929602</span>]])</span><br><span class="line">pred_cls2 = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br><span class="line">pred_conf2 = np.array([<span class="number">0.75</span>, <span class="number">0.78</span>, <span class="number">0.83</span>, <span class="number">0.42</span>, <span class="number">0.2457653</span>,</span><br><span class="line">                       <span class="number">0.95</span>, <span class="number">0.5</span>, <span class="number">0.81003532</span>, <span class="number">0.18837614</span>, <span class="number">0.77496605</span>, <span class="number">0.27333026</span>])</span><br><span class="line">gt_bb2 = np.array([[<span class="number">0.625</span>, <span class="number">0.43554688</span>, <span class="number">0.828125</span>, <span class="number">0.67382812</span>],</span><br><span class="line">                   [<span class="number">0.45898438</span>, <span class="number">0.25390625</span>, <span class="number">0.59179688</span>, <span class="number">0.34179688</span>],</span><br><span class="line">                   [<span class="number">0.18164062</span>, <span class="number">0.16015625</span>, <span class="number">0.28125</span>, <span class="number">0.31054688</span>],</span><br><span class="line">                   [<span class="number">0.8914062</span>, <span class="number">0.8821875</span>, <span class="number">0.95453125</span>, <span class="number">0.9804688</span>],</span><br><span class="line">                   [<span class="number">0.40234375</span>, <span class="number">0.44921875</span>, <span class="number">0.55078125</span>, <span class="number">0.56445312</span>],</span><br><span class="line">                   [<span class="number">0.16796875</span>, <span class="number">0.43554688</span>, <span class="number">0.328125</span>, <span class="number">0.578125</span>]])</span><br><span class="line">gt_cls2 = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">pred_bb3 = np.array([[<span class="number">0.74</span>, <span class="number">0.58</span>, <span class="number">1.0</span>, <span class="number">0.83</span>],</span><br><span class="line">                     [<span class="number">0.75</span>, <span class="number">0.575</span>, <span class="number">0.99</span>, <span class="number">0.83</span>],</span><br><span class="line">                     [<span class="number">0.57</span>, <span class="number">0.23</span>, <span class="number">1.0</span>, <span class="number">0.62</span>],</span><br><span class="line">                     [<span class="number">0.59</span>, <span class="number">0.24</span>, <span class="number">1.0</span>, <span class="number">0.63</span>],</span><br><span class="line">                     [<span class="number">0.55</span>, <span class="number">0.24</span>, <span class="number">0.33</span>, <span class="number">0.7</span>],</span><br><span class="line">                     [<span class="number">0.12</span>, <span class="number">0.21</span>, <span class="number">0.31</span>, <span class="number">0.39</span>],</span><br><span class="line">                     [<span class="number">0.1240625</span>, <span class="number">0.2109375</span>, <span class="number">0.859375</span>, <span class="number">0.39453125</span>],</span><br><span class="line">                     [<span class="number">2.86702722e-01</span>, <span class="number">5.87677717e-01</span>, <span class="number">3.90843153e-01</span>, <span class="number">7.14454949e-01</span>],</span><br><span class="line">                     [<span class="number">2.87590116e-01</span>, <span class="number">8.76132399e-02</span>, <span class="number">3.79709303e-01</span>, <span class="number">2.05121845e-01</span>]])</span><br><span class="line">pred_cls3 = np.array(</span><br><span class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br><span class="line">pred_conf3 = np.array([<span class="number">0.75</span>, <span class="number">0.90</span>, <span class="number">0.9</span>, <span class="number">0.9</span>, <span class="number">0.5</span>, <span class="number">0.84</span>,</span><br><span class="line">                       <span class="number">0.1</span>, <span class="number">0.2363426</span>, <span class="number">0.02707205</span>])</span><br><span class="line">gt_bb3 = np.array([[<span class="number">0.74609375</span>, <span class="number">0.58007812</span>, <span class="number">1.05273438</span>, <span class="number">0.83007812</span>],</span><br><span class="line">                   [<span class="number">0.57226562</span>, <span class="number">0.234375</span>, <span class="number">1.14453125</span>, <span class="number">0.62890625</span>],</span><br><span class="line">                   [<span class="number">0.1240625</span>, <span class="number">0.2109375</span>, <span class="number">0.329375</span>, <span class="number">0.39453125</span>]])</span><br><span class="line">gt_cls3 = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    frames = [(pred_bb1, pred_cls1, pred_conf1, gt_bb1, gt_cls1),</span><br><span class="line">              (pred_bb2, pred_cls2, pred_conf2, gt_bb2, gt_cls2),</span><br><span class="line">              (pred_bb3, pred_cls3, pred_conf3, gt_bb3, gt_cls3)]</span><br><span class="line">    n_class = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    mAP = DetectionMAP(n_class)</span><br><span class="line">    <span class="keyword">for</span> i, frame <span class="keyword">in</span> enumerate(frames):</span><br><span class="line">        print(<span class="string">"Evaluate frame &#123;&#125;"</span>.format(i))</span><br><span class="line">        show_frame(*frame)</span><br><span class="line">        mAP.evaluate(*frame)</span><br><span class="line"></span><br><span class="line">    mAP.plot()</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="comment">#plt.savefig("pr_curve_example.png")</span></span><br></pre></td></tr></table></figure>
<p>Source code can be found at <a href="https://github.com/MathGaron/mean_average_precision" target="_blank" rel="noopener">https://github.com/MathGaron/mean_average_precision</a>.</p>
<p>Now, generalize this method into batch labels processing.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mean_average_precision.detection_map <span class="keyword">import</span> DetectionMAP</span><br><span class="line"><span class="keyword">from</span> mean_average_precision.utils.show_frame <span class="keyword">import</span> show_frame</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_frame</span><span class="params">(f_label, f_gt)</span>:</span></span><br><span class="line">    f1 = open(f_label, <span class="string">'r'</span>)</span><br><span class="line">    f2 = open(f_gt, <span class="string">'r'</span>)</span><br><span class="line">    labels = f1.readlines()</span><br><span class="line">    gts = f2.readlines()</span><br><span class="line">    pred_bb = []</span><br><span class="line">    pred_cls = []</span><br><span class="line">    pred_conf = []</span><br><span class="line">    <span class="keyword">for</span> label <span class="keyword">in</span> labels:</span><br><span class="line">        label = label.strip().split(<span class="string">','</span>)</span><br><span class="line">        pred_bb.append([float(label[<span class="number">0</span>]), float(label[<span class="number">1</span>]), float(label[<span class="number">2</span>]), float(label[<span class="number">3</span>])])</span><br><span class="line">        pred_cls.append(int(label[<span class="number">4</span>]))</span><br><span class="line">        pred_conf.append(float(label[<span class="number">5</span>]))</span><br><span class="line">    pred_bb = np.array(pred_bb)</span><br><span class="line">    pred_cls = np.array(pred_cls)</span><br><span class="line">    pred_conf = np.array(pred_conf)</span><br><span class="line"></span><br><span class="line">    gt_bb = []</span><br><span class="line">    gt_cls = []</span><br><span class="line">    <span class="keyword">for</span> gt <span class="keyword">in</span> gts:</span><br><span class="line">        gt = gt.strip().split(<span class="string">','</span>)</span><br><span class="line">        gt_bb.append([float(gt[<span class="number">0</span>]), float(gt[<span class="number">1</span>]), float(gt[<span class="number">2</span>]), float(gt[<span class="number">3</span>])])</span><br><span class="line">        gt_cls.append(int(gt[<span class="number">4</span>]))</span><br><span class="line">    gt_bb = np.array(gt_bb)</span><br><span class="line">    gt_cls = np.array(gt_cls)</span><br><span class="line">    frame = (pred_bb, pred_cls, pred_conf, gt_bb, gt_cls)</span><br><span class="line">    <span class="keyword">return</span> frame</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    dir_gt = os.listdir(<span class="string">'../data/KITTI/testing/label_2/'</span>)</span><br><span class="line">    dir_label = os.listdir(<span class="string">'../out/convlstm/labels/'</span>)</span><br><span class="line">    <span class="comment">#get_frame('../out/origin/labels/000001.txt', '../data/KITTI/testing/label_2/000001.txt')</span></span><br><span class="line">    frames = []</span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> range(<span class="number">0</span>, len(dir_gt)):</span><br><span class="line">        f_label = <span class="string">'../out/convlstm/labels/'</span> + dir_label[idx]</span><br><span class="line">        f_gt = <span class="string">'../data/KITTI/testing/label_2/'</span> + dir_gt[idx]</span><br><span class="line">        frame = get_frame(f_label, f_gt)</span><br><span class="line">        frames.append(frame)</span><br><span class="line">    <span class="comment">#print(len(frames))</span></span><br><span class="line">    n_class = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    mAP = DetectionMAP(n_class)</span><br><span class="line">    <span class="keyword">for</span> i, frame <span class="keyword">in</span> enumerate(frames):</span><br><span class="line">        print(<span class="string">"Evaluate frame &#123;&#125;"</span>.format(i))</span><br><span class="line">        <span class="comment">#show_frame(*frame)</span></span><br><span class="line">        mAP.evaluate(*frame)</span><br><span class="line"></span><br><span class="line">    mAP.plot()</span><br><span class="line">    plt.show()</span><br><span class="line">    plt.savefig(<span class="string">"squeezedet.png"</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/06/Get-the-mean-color-of-batch-pictures/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/06/Get-the-mean-color-of-batch-pictures/" itemprop="url">Get the mean color of batch pictures</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-06T16:48:20+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>In the field of image processing, we always need to get the mean RGB color of batch pictures. In training field, this method can help get a better convergence. </p>
<p>The source code can be followed:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os  </span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image    </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt  </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"><span class="keyword">from</span> scipy.misc <span class="keyword">import</span> imread   </span><br><span class="line">  </span><br><span class="line">filepath = <span class="string">'Image Folder'</span>  </span><br><span class="line">pathDir = os.listdir(filepath)    </span><br><span class="line">  </span><br><span class="line">R_channel = <span class="number">0</span>  </span><br><span class="line">G_channel = <span class="number">0</span>  </span><br><span class="line">B_channel = <span class="number">0</span>  </span><br><span class="line"><span class="keyword">for</span> idx <span class="keyword">in</span> range(len(pathDir)):  </span><br><span class="line">    filename = pathDir[idx]  </span><br><span class="line">    img = imread(os.path.join(filepath, filename))  </span><br><span class="line">    <span class="comment"># print(img.shape)</span></span><br><span class="line">    R_channel = R_channel + np.sum(img[:,:,<span class="number">0</span>])  </span><br><span class="line">    G_channel = G_channel + np.sum(img[:,:,<span class="number">1</span>])  </span><br><span class="line">    B_channel = B_channel + np.sum(img[:,:,<span class="number">2</span>])  </span><br><span class="line">    print(<span class="string">"Finished processing %d images"</span> % idx)</span><br><span class="line">      </span><br><span class="line">num = len(pathDir) * <span class="number">542</span> * <span class="number">412</span></span><br><span class="line">R_mean = R_channel / num  </span><br><span class="line">G_mean = G_channel / num  </span><br><span class="line">B_mean = B_channel / num  </span><br><span class="line">      </span><br><span class="line">print(<span class="string">"R_mean is %f, G_mean is %f, B_mean is %f"</span> %(R_mean, G_mean, B_mean))</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/05/AIAI18-Cognition-based-Deep-Learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/05/AIAI18-Cognition-based-Deep-Learning/" itemprop="url">AIAI18 -- Cognition-based Deep Learning -- Progresses and Perspectives</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-05T20:45:58+08:00">
                2018-02-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>One of our paper, named as “Cognition-based Deep Learning: Progresses and Perspectives”, was submitted to AIAI18 (The 14th International Conference on Artificial Intelligence Applications and Innovations). It is the first time for me to write a survey paper.</p>
<p>For secrecy, I will rethink the process how my first paper come out instead of reviewing too much details of this paper.</p>
<p>For some reason, our group is going to submit a survey paper of cognition-based deep learning. I was honored to be the one who mainly review the progresses and draw my blueprint toward this field. After referring to many papers in cognition-based deep learning recent year, I gained a lot of intuitions of the current state in this field. Then, I spend three days to finished my first draft.</p>
<p>Then, prof. Zheng gave me some essential instructions about this paper macroscopically, my elder sister Chen helped me correct my spelling , and my elder brother offered me Chen offered me some tips of submitting papers. Thanks a lot for their help.</p>
<p>Finally, I will represent the abstract of the paper:</p>
<blockquote>
<p>The human brain is composed of multiple modular subsystems, with a unique way interacting among. These subsystems have their own unique characteristics and interact to support cognitive functions such as memory, attention and cognitive control. Nowadays, deep learning methods based on the above-mentioned functions accompanied with knowledge are widely used to design more dynamic, robust and powerful systems. We first review and summarize the progresses of cognition-based deep neural networks, and how cognitive mechanisms can be applied to more brain-like neural networks. Then we propose a general framework for the design of cognition-based deep learning system. Although great efforts have been made in this field, cognition-based deep learning is still in its early age. We put forward the potential directions towards this field, such as associative memory in deep learning, interpretable network with cognitive mechanisms, and deep reinforcement learning based on cognitive science.</p>
</blockquote>
<p>Although this paper is not very great and overview seldomly accepted by conference (usually journals), I really harvested a lot. Further, I’ve got the idea what is real research and what should I do: In my opinion, it is always better to raise a good question than to improve the efficiency of the experiment. As for the latter, it is a matter of engineering. ​​​​The key to success is to think widely and provide novel ideas for solving problems.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/05/random-walk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/05/random-walk/" itemprop="url">Random Walk Algorithm and Monte Carlo Simulation, Visualizing with Plotly</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-05T12:33:09+08:00">
                2018-02-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>A random walk is a mathematical object, known as a stochastic or random process, that describes a path that consists of a succession of random steps on some mathematical space such as the integers. </p>
<p>The visualization of random walk is:</p>
<p><img src="/images/RandomWalks_01.png" alt=""></p>
<p>Next, I will introduce the basic ideas of random walk and its implementation. </p>
<p>The question is: <strong>What is the longest random walk you can take so that on average you will end up 4 blocks or fewer from home?</strong></p>
<p>First, I will implement random_walk algorithm with python:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_walk</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""Return coordinates after 'n' block random walk"""</span></span><br><span class="line">    x, y = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):  </span><br><span class="line">        (dx, dy) = random.choice([(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">-1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">-1</span>, <span class="number">0</span>)])</span><br><span class="line">        x += dx</span><br><span class="line">        y += dy</span><br><span class="line">    <span class="keyword">return</span> (x, y)</span><br></pre></td></tr></table></figure>
<p>dx, dy is the delta changes of coordinates. For example, (0, 1) means go north.</p>
<p>Returned parameters is the final destination while (0, 0) is the start point.</p>
<p>Next, we simulate random walk by using Monte Carlo simulation. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">number_of_walks = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> walk_length <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">41</span>):</span><br><span class="line">    nu_transport = <span class="number">0</span> <span class="comment"># Number of walks 4 or fewer blocks from home</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(number_of_walks):</span><br><span class="line">        (x, y) = random_walk(walk_length)</span><br><span class="line">        distance = abs(x) + abs(y)</span><br><span class="line">        <span class="keyword">if</span> distance &lt;= <span class="number">4</span>:</span><br><span class="line">            nu_transport += <span class="number">1</span></span><br><span class="line">    nu_transport_percentage = float(nu_transport) / number_of_walks</span><br><span class="line">    print(<span class="string">"Walk size = "</span>, walk_length, <span class="string">"/ % of no transport = "</span>, </span><br><span class="line">            <span class="number">100</span>*nu_transport_percentage)</span><br></pre></td></tr></table></figure>
<p>Then, the output is:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">(tensorflow) kyi@cver:~/williamyi96.github.io$ python /home/kyi/Desktop/raw_random_walk.py</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">1</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">100.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">2</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">100.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">3</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">100.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">4</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">100.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">5</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">88.6</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">6</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">94.69999999999999</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">7</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">77.7</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">8</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">86.9</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">9</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">67.10000000000001</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">10</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">82.1</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">11</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">60.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">12</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">72.2</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">13</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">54.400000000000006</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">14</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">66.3</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">15</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">51.300000000000004</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">16</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">63.1</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">17</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">45.1</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">18</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">58.8</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">19</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">42.9</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">20</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">54.6</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">21</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">37.1</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">22</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">49.6</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">23</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">36.5</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">24</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">48.699999999999996</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">25</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">32.1</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">26</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">44.4</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">27</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">30.8</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">28</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">42.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">29</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">30.0</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">30</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">38.5</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">31</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">24.7</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">32</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">41.3</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">33</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">25.3</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">34</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">36.1</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">35</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">23.599999999999998</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">36</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">34.300000000000004</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">37</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">24.5</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">38</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">34.8</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">39</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">22.5</span>)</span><br><span class="line">(<span class="string">'Walk size = '</span>, <span class="number">40</span>, <span class="string">'/ % of no transport = '</span>, <span class="number">34.0</span>)</span><br></pre></td></tr></table></figure>
<p>From the result, we can see the largest walk_length (transport percentage is greater than 50%) is 22.</p>
<p>So, going back to the problem. “What is the longest random walk you can take so that on average you will end up 4 blocks or fewer from home?” That is 22.</p>
<p>Then we use plotly to implement random walk and visualize it.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    step_x = random.randint(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> step_x == <span class="number">1</span>:</span><br><span class="line">        x.append(x[j] + <span class="number">1</span> + <span class="number">0.05</span>*np.random.normal())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        x.append(x[j] - <span class="number">1</span> + <span class="number">0.05</span>*np.random.normal())</span><br><span class="line">        </span><br><span class="line">y = [<span class="number">0.05</span>*np.random.normal() <span class="keyword">for</span> j <span class="keyword">in</span> range(len(x))]</span><br><span class="line">        </span><br><span class="line">trace1 = go.Scatter(</span><br><span class="line">    x=x,</span><br><span class="line">    y=y,</span><br><span class="line">    mode=<span class="string">'markers'</span>,</span><br><span class="line">    name=<span class="string">'Random Walk in 1D'</span>,</span><br><span class="line">    marker=dict(</span><br><span class="line">        color=[i <span class="keyword">for</span> i <span class="keyword">in</span> range(len(x))],</span><br><span class="line">        size=<span class="number">7</span>,</span><br><span class="line">        colorscale=[[<span class="number">0</span>, <span class="string">'rgb(178,10,28)'</span>], [<span class="number">0.50</span>, <span class="string">'rgb(245,160,105)'</span>],</span><br><span class="line">                    [<span class="number">0.66</span>, <span class="string">'rgb(245,195,157)'</span>], [<span class="number">1</span>, <span class="string">'rgb(220,220,220)'</span>]],</span><br><span class="line">        showscale=<span class="keyword">True</span>,</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">layout = go.Layout(</span><br><span class="line">    yaxis=dict(</span><br><span class="line">        range=[<span class="number">-1</span>, <span class="number">1</span>]</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">data = [trace1]</span><br><span class="line">fig= go.Figure(data=data, layout=layout)</span><br><span class="line">py.iplot(fig, filename=<span class="string">'random-walk-1d'</span>)</span><br></pre></td></tr></table></figure>
<p>The result is (<a href="https://plot.ly/~WilliamYi96/0/random-walk-in-1d/" target="_blank" rel="noopener">https://plot.ly/~WilliamYi96/0/random-walk-in-1d/</a>):<br><img src="images/random-walk-1d.png" alt=""></p>
<p>Then we extend it to 2D:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plotly.plotly <span class="keyword">as</span> py</span><br><span class="line"><span class="keyword">import</span> plotly.graph_objs <span class="keyword">as</span> go</span><br><span class="line"><span class="keyword">from</span> plotly.tools <span class="keyword">import</span> FigureFactory <span class="keyword">as</span> FF</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> scipy</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">x = [<span class="number">0</span>]</span><br><span class="line">y = [<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">    step_x = random.randint(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> step_x == <span class="number">1</span>:</span><br><span class="line">        x.append(x[j] + <span class="number">1</span> + np.random.normal())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        x.append(x[j] - <span class="number">1</span> + np.random.normal())</span><br><span class="line">    </span><br><span class="line">    step_y = random.randint(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> step_y == <span class="number">1</span>:</span><br><span class="line">        y.append(y[j] + <span class="number">1</span> + np.random.normal())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        y.append(y[j] - <span class="number">1</span> + np.random.normal())</span><br><span class="line">        </span><br><span class="line">trace1 = go.Scatter(</span><br><span class="line">    x=x,</span><br><span class="line">    y=y,</span><br><span class="line">    mode=<span class="string">'markers'</span>,</span><br><span class="line">    name=<span class="string">'Random Walk'</span>,</span><br><span class="line">    marker=dict(</span><br><span class="line">        color=[i <span class="keyword">for</span> i <span class="keyword">in</span> range(len(x))],</span><br><span class="line">        size=<span class="number">8</span>,</span><br><span class="line">        colorscale=<span class="string">'Greens'</span>,</span><br><span class="line">        showscale=<span class="keyword">True</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">data = [trace1]</span><br><span class="line">py.iplot(data, filename=<span class="string">'random-walk-2d'</span>)</span><br></pre></td></tr></table></figure>
<p>The result is:</p>
<p><img src="images/random-walk-2d.png" alt=""></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li>A Random Walk &amp; Monte Carlo Simulation || Python Tutorial || Learn Python Programming. <a href="https://www.youtube.com/watch?v=BfS2H1y6tzQ" target="_blank" rel="noopener">https://www.youtube.com/watch?v=BfS2H1y6tzQ</a></li>
<li>Random Walk in Python with Plotly. <a href="https://plot.ly/python/random-walk/" target="_blank" rel="noopener">https://plot.ly/python/random-walk/</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="williamyi96.github.io/2018/02/04/Deploy-hexo-with-github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kai Yi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avater.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pursuing your dream">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/04/Deploy-hexo-with-github/" itemprop="url">Deploy hexo with github</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-04T22:47:47+08:00">
                2018-02-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>This blog will introduce the deployment of hexo with github. Hexo is a powerful backup for the deployment of blog, just like WordPress. </p>
<h2 id="Preparations"><a href="#Preparations" class="headerlink" title="Preparations"></a>Preparations</h2><p>We need to download some needed materials firstly:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install node npm</span><br><span class="line">sudo sudo install hexo-cli -g</span><br></pre></td></tr></table></figure>
<h2 id="Deploying-Blog"><a href="#Deploying-Blog" class="headerlink" title="Deploying Blog"></a>Deploying Blog</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init williamyi96.github.io</span><br><span class="line"><span class="built_in">cd</span> williamyi96.github.io</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
<h2 id="Generating-Static-Pages"><a href="#Generating-Static-Pages" class="headerlink" title="Generating Static Pages"></a>Generating Static Pages</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s -- running locally</span><br></pre></td></tr></table></figure>
<h2 id="Change-a-Theme"><a href="#Change-a-Theme" class="headerlink" title="Change a Theme"></a>Change a Theme</h2><p>More themes can refer to <a href="https://hexo.io/themes/" target="_blank" rel="noopener">https://hexo.io/themes/</a>, I choose the theme of hexo-theme-next this time.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<h2 id="Deploy-blog-with-github"><a href="#Deploy-blog-with-github" class="headerlink" title="Deploy blog with github"></a>Deploy blog with github</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> williamyi96.github.io</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit _config.yml</span><br></pre></td></tr></table></figure>
<p>First deploy the title, subtile, description, author and language of this blog.</p>
<p>deploy:   </p>
<pre><code>type: git
repo: &lt;repository url&gt;
branch: [branch]
</code></pre><p>branch default to be master.</p>
<h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="built_in">test</span></span><br><span class="line">hexo g <span class="comment"># generate this blog</span></span><br><span class="line">hexo d <span class="comment"># deploy this blog</span></span><br></pre></td></tr></table></figure>
<p>All thing well down. More information can refer to <a href="https://github.com/limedroid/HexoLearning" target="_blank" rel="noopener">https://github.com/limedroid/HexoLearning</a>.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avater.jpg"
                alt="Kai Yi" />
            
              <p class="site-author-name" itemprop="name">Kai Yi</p>
              <p class="site-description motion-element" itemprop="description">Researcher on cognitive science, computer vision, machine learning, chaos and fractal.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/williamyi96" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://scholar.google.com/citations?user=r08j39wAAAAJ" target="_blank" title="Scholar">
                      
                        <i class="fa fa-fw fa-google"></i>Scholar</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kai Yi</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
